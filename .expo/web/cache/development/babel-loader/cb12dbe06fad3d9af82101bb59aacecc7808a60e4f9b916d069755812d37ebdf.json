{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { React, useEffect, useState } from 'react';\nimport Constants from 'expo-constants';\nimport Item from \"./Item\";\nimport ItemHistorial from \"./ItemHistorial\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TouchableNativeFeedback from \"react-native-web/dist/exports/TouchableNativeFeedback\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { TouchableNativeFeedbackBase } from \"react-native-web/dist/index\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar id = 1;\nvar listHistorial = function listHistorial(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    placeholderData = _useState2[0],\n    setPlaceholderData = _useState2[1];\n  useEffect(function () {\n    var fetchData = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        try {\n          var response = yield fetch(`http://192.168.100.57:3001/api/historial/${id}`, {\n            method: 'GET',\n            headers: {\n              'Content-Type': 'application/json'\n            }\n          });\n          if (!response.ok) {\n            throw new Error('La solicitud no fue exitosaa');\n          }\n          var data = yield response.json();\n          data.forEach(function () {\n            var _ref3 = _asyncToGenerator(function* (element) {\n              if (element.tipo == 'Canciones') {\n                try {\n                  var _response = yield fetch(`http://192.168.100.57:3001/api/canciones/${element.nombre}`, {\n                    method: 'GET',\n                    headers: {\n                      'Content-Type': 'application/json'\n                    }\n                  });\n                  if (!_response.ok) {\n                    throw new Error('La solicitud no fue exitosaa');\n                  }\n                  var song = yield _response.json();\n                  try {\n                    var _response2 = yield fetch(`http://192.168.100.57:3001/api/albumes/${song.album}`, {\n                      method: 'GET',\n                      headers: {\n                        'Content-Type': 'application/json'\n                      }\n                    });\n                    if (!_response2.ok) {\n                      throw new Error('La solicitud no fue exitosaa');\n                    }\n                    var album = yield _response2.json();\n                  } catch (error) {\n                    console.error('Error en la solicitud:', error);\n                  }\n                } catch (error) {\n                  console.error('Error en la solicitud:', error);\n                }\n              }\n            });\n            return function (_x) {\n              return _ref3.apply(this, arguments);\n            };\n          }());\n          setPlaceholderData(data);\n          console.log(data);\n        } catch (error) {\n          console.error('Error en la solicitud:', error);\n        }\n      });\n      return function fetchData() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    fetchData();\n  }, []);\n  console.log(placeholderData);\n  return _jsx(View, {\n    overScrollMode: \"never\",\n    children: _jsx(FlatList, {\n      overScrollMode: \"never\",\n      data: placeholderData,\n      horizontal: true,\n      renderItem: function renderItem(_ref4) {\n        var item = _ref4.item;\n        return _jsx(View, {\n          children: _jsx(ItemHistorial, {\n            img: ``,\n            nombreItem: item.nombre,\n            descItem: item.tipo\n          }, item)\n        });\n      }\n    })\n  });\n};\nexport default listHistorial;\nvar listStyle = StyleSheet.create({\n  titleSection: {\n    fontSize: 22,\n    backgroundColor: 'black',\n    color: 'white',\n    paddingLeft: 10,\n    borderRadius: 3,\n    textTransform: 'capitalize'\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","Constants","Item","ItemHistorial","StyleSheet","Text","View","Alert","TouchableNativeFeedback","FlatList","TouchableNativeFeedbackBase","jsx","_jsx","id","listHistorial","_ref","navigation","_useState","_useState2","_slicedToArray","placeholderData","setPlaceholderData","fetchData","_ref2","_asyncToGenerator","response","fetch","method","headers","ok","Error","data","json","forEach","_ref3","element","tipo","nombre","song","album","error","console","_x","apply","arguments","log","overScrollMode","children","horizontal","renderItem","_ref4","item","img","nombreItem","descItem","listStyle","create","titleSection","fontSize","backgroundColor","color","paddingLeft","borderRadius","textTransform"],"sources":["E:/Aplicaciones/MudsicApp0.5/src/components/ListHistorial.js"],"sourcesContent":["import {React, useEffect, useState} from 'react'\r\nimport Constants from 'expo-constants'\r\nimport Item from './Item'\r\nimport ItemHistorial from './ItemHistorial'\r\nimport { StyleSheet, Text, View, Alert, TouchableNativeFeedback, FlatList, TouchableNativeFeedbackBase } from 'react-native'\r\n\r\n\r\nlet id = 1\r\nconst listHistorial = ({ navigation}) => {\r\nconst [placeholderData, setPlaceholderData] = useState({});\r\n\r\nuseEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(`http://192.168.100.57:3001/api/historial/${id}`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n        })\r\n\r\n        if (!response.ok) {\r\n          throw new Error('La solicitud no fue exitosaa');\r\n        }\r\n        const data = await response.json();\r\n        data.forEach(async element => {\r\n            if(element.tipo == 'Canciones'){\r\n                try {\r\n                    const response = await fetch(`http://192.168.100.57:3001/api/canciones/${element.nombre}`, {\r\n                        method: 'GET',\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                    })\r\n\r\n                    if (!response.ok) {\r\n                    throw new Error('La solicitud no fue exitosaa');\r\n                    }\r\n                    const song = await response.json();\r\n                    try {\r\n                        const response = await fetch(`http://192.168.100.57:3001/api/albumes/${song.album}`, {\r\n                            method: 'GET',\r\n                            headers: {\r\n                                'Content-Type': 'application/json',\r\n                            },\r\n                        })\r\n\r\n                        if (!response.ok) {\r\n                        throw new Error('La solicitud no fue exitosaa');\r\n                        }\r\n                        const album = await response.json();\r\n                    } catch (error) {\r\n                        console.error('Error en la solicitud:', error);\r\n                        // setUsuarios([{ nombre: 'Error', contraseña: 'Error', email: 'Error' }]);\r\n                    }\r\n                    } catch (error) {\r\n                    console.error('Error en la solicitud:', error);\r\n                    // setUsuarios([{ nombre: 'Error', contraseña: 'Error', email: 'Error' }]);\r\n                }\r\n            }\r\n        });\r\n        setPlaceholderData(data)\r\n\r\n        // setUsuarios(data);\r\n        console.log(data);\r\n      } catch (error) {\r\n        console.error('Error en la solicitud:', error);\r\n        // setUsuarios([{ nombre: 'Error', contraseña: 'Error', email: 'Error' }]);\r\n      }\r\n    };\r\n\r\n    fetchData(); // Llama a la función asincrónica para obtener los datos\r\n  }, []);\r\n    console.log(placeholderData); \r\n    // Ahora también puedes usar navigation.navigate, navigation.push, etc.\r\n    return(\r\n        <View overScrollMode='never'>            \r\n            <FlatList overScrollMode='never'\r\n                // data={data && data.data.tracks}\r\n                data={placeholderData}\r\n                horizontal={true}\r\n                renderItem={({ item }) => (\r\n                    <View>\r\n                        <ItemHistorial key={item} img={``} nombreItem={item.nombre} descItem={item.tipo} />                        \r\n                    </View>\r\n                )}\r\n            />    \r\n        </View>  \r\n    )\r\n    \r\n}\r\n\r\nexport default listHistorial\r\n\r\nconst listStyle = StyleSheet.create({    \r\n    titleSection:{\r\n        fontSize: 22,\r\n        backgroundColor: 'black',\r\n        color: 'white',        \r\n        paddingLeft: 10,\r\n        borderRadius: 3,\r\n        textTransform: 'capitalize' \r\n    }\r\n})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}